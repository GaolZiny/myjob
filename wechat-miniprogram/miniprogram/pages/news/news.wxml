<!--新闻列表页面-->
<view class="news-container">
  <!-- 分类标签栏 -->
  <view class="category-tabs">
    <scroll-view scroll-x class="category-scroll">
      <view class="category-list">
        <view
          wx:for="{{categories}}"
          wx:key="*this"
          class="category-item {{currentCategory === item ? 'active' : ''}}"
          bindtap="onCategoryChange"
          data-category="{{item}}">
          {{item}}
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 新闻列表 -->
  <view class="news-list">
    <block wx:if="{{newsList.length > 0}}">
      <view
        wx:for="{{newsList}}"
        wx:key="_id"
        class="news-item"
        bindtap="onNewsClick"
        data-id="{{item._id}}">

        <!-- 新闻图片 -->
        <image
          wx:if="{{item.image_url}}"
          class="news-image"
          src="{{item.image_url}}"
          mode="aspectFill"
          lazy-load>
        </image>

        <!-- 新闻内容 -->
        <view class="news-content">
          <!-- 中文标题 -->
          <view class="news-title-zh">{{item.title_zh}}</view>

          <!-- 中文摘要 -->
          <view class="news-summary" wx:if="{{item.summary_zh}}">
            {{item.summary_zh}}
          </view>

          <!-- 元信息 -->
          <view class="news-meta">
            <text class="category-tag">{{item.category}}</text>
            <text class="source">{{item.source}}</text>
            <text class="time">{{item.pub_date}}</text>
          </view>
        </view>
      </view>
    </block>

    <!-- 空状态 -->
    <view wx:if="{{newsList.length === 0 && !loading}}" class="empty-state">
      <image class="empty-icon" src="/images/empty.png" mode="aspectFit"></image>
      <text class="empty-text">暂无新闻数据</text>
    </view>

    <!-- 加载状态 -->
    <view wx:if="{{loading}}" class="loading-state">
      <text class="loading-text">加载中...</text>
    </view>

    <!-- 没有更多 -->
    <view wx:if="{{!hasMore && newsList.length > 0}}" class="no-more">
      <text>没有更多了</text>
    </view>
  </view>
</view>
